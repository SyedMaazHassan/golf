{% extends 'inc/dashboard.html' %}
{% load static %}
{% load django_bootstrap5 %}
{% bootstrap_css %}
{% bootstrap_messages %}
{% bootstrap_javascript %}


{% block title %}Profile{% endblock title %}



{% block content %}



<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-2">
    <h1 class="h2 mb-0">Member ID = {{ user.username }}</h1>
</div>



<div> 
    <div>
        <div class="my-5">

            <div class="mt-3">

                <div class="row">
                    <div class="col-sm-6">
                        <form action="{% url 'reset-password' %}" method="post">
                            {% csrf_token %}
                            <h5>Reset password</h5>

                            <div>
                                <div class="my-3 form-floating django_bootstrap5-required">
                                    <input type="password" name="password" autofocus="" autocapitalize="none" autocomplete="password" maxlength="150" class="form-control" placeholder="Username" required="" id="id_password">
                                    <label class="form-label" for="id_password">New password</label>
                                </div>
                            </div>

                            <div>
                                <div class="my-3 form-floating django_bootstrap5-required">
                                    <input type="password" name="confirm_password" autofocus="" autocapitalize="none" autocomplete="confirm_password" maxlength="150" class="form-control" placeholder="Username" required="" id="id_confirm_password">
                                    <label class="form-label" for="id_confirm_password">Confirm password</label>
                                </div>
                            </div>

                            <div class="form-check mb-3">
                                <input class="form-check-input" type="checkbox" id="togglePassword">
                                <label class="form-check-label" for="togglePassword">
                                  Show password
                                </label>
                            </div>

                            <button type="submit" name="" id="" class="btn btn-primary btn-block">Reset password</button>

                        </form>

                    </div>

                    <div class="col-sm-6">
                        <form action="" method="post">
                            {% csrf_token %}
                            <h5>Update profile</h5>

                            <div class="mt-3">
                                <form action="" method="post">
                                    {% csrf_token %}
                                    {% bootstrap_form user_form layout="floating" %}
                                    <div>
                                        <button type="submit" name="" class="btn btn-primary">Update profile</button>
                                    </div>
                                </form>
                            </div>


                        </form>

                    </div>
                </div>

            </div>
            
        </div>

    </div>
</div>


<script>

    $("#togglePassword").on("change", function () {
        let is_checked = this.checked;
        if (is_checked) {
            $("#id_password, #id_confirm_password").attr("type", "text");
        }else{
            $("#id_password, #id_confirm_password").attr("type", "password");
        }
    })

</script>



{% endblock content %}